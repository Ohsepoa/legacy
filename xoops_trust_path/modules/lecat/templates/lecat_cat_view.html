<div id="lecat">
	<div class="catDetail">
		<h1><{$smarty.const._MD_LECAT_LANG_TITLE}>: <{$object->getShow('title')}> <a href="./index.php?action=CatEdit&amp;cat_id=<{$object->getShow('cat_id')}>"><img src="<{$xoops_url}>/images/icons/edit.gif" alt="<{$smarty.const._EDIT}>" /></a></h1>
		<div class="description">
			<{$object->getShow('description')}>
		</div>
		<dl class="view">
		  <dt><{$smarty.const._MD_LECAT_LANG_GR}>:</dt>
		  <dd><a href="./index.php?action=GrView&amp;gr_id=<{$object->getShow('gr_id')}>"><{$object->mGr->getShow('title')}></a></dd>

		  <dt><{$smarty.const._MD_LECAT_LANG_PARENT}>:</dt>
		  <dd><{if $object->mPcat}><a href="./index.php?action=CatView&amp;cat_id=<{$object->getShow('p_id')}>"><{$object->mPcat->getShow('title')}></a><{else}><{$smarty.const._MD_LECAT_LANG_TOP_CAT}><{/if}></dd>

		  <dt><{$smarty.const._MD_LECAT_LANG_WEIGHT}>:</dt>
		  <dd><{$object->getShow('weight')}></dd>
			<dt><{$smarty.const._MD_LECAT_LANG_MODULES_CONFINEMENT}></dt>
			<{foreach item=module from=$modulesArr}>
			<dd><{$module}></dd>
			<{/foreach}>
		</dl>
	</div>
	<hr class="clear" />
	<div>
	<h2><{$smarty.const._MD_LECAT_LANG_PERMISSIONS}></h2>
	<p><{$smarty.const._MD_LECAT_TIPS_PERMISSIONS}></p>
	<form action="index.php?action=PermitEdit" method="post">
	  <{xoops_token form=$actionFormPermit}>
	  <{xoops_input type=hidden name=permit_id value=$actionFormPermit->get('permit_id')}>
	  <{xoops_input type=hidden name=cat_id value=$actionFormPermit->get('cat_id')}>
		<{assign var=targetCat value=$permitObj->getTargetCat()}>
		<{if $targetCat=='cur'}>
		<table class="outer curCatPermit">
		<{elseif $targetCat=='anc'}>
		<table class="outer ancCatPermit">
		<{else}>
		<table class="outer ngCatPermit">
		<{/if}>
			<tr>
				<th style="width:150px;">Group</th>
				<{foreach item=act from=$permitObj->mActionArr.name}>
					<th><{$act}></th>
				<{/foreach}>
			</tr>
			<{foreach item=group key=gKey from=$permitObj->mGroupArr.groupid}>
				<tr>
				<{if $targetCat=='cur'}>
					<{xoops_input type=hidden name=permit_ids[$group] value=$permitObj->mPermit.permit_id[$gKey].$targetCat}>
				<{/if}>
					<th><{$permitObj->mGroupArr.name[$gKey]}></th>
					<{foreach item=permitKey key=oKey from=$permitObj->mActionArr.key}>
						<{if $targetCat}>
							<td>
							<input type="checkbox" name="permission[<{$group}>][<{$permitKey}>]" value="1"<{if $permitObj->checkPermitGroup($gKey, $oKey)==1}> checked="checked"<{/if}>>
							</td>
						<{else}>
							<td>NG</td>
						<{/if}>
					<{/foreach}>
				</tr>
			<{/foreach}>
		</table>
		<input type="submit" class="formButton" value="<{$smarty.const._SUBMIT}>"/>
	</form>
	<{if $permitObj->getTargetCat()=='cur'}>
		<hr />
		<form action="index.php" method="post">
		<p>
		<input type="submit" class="formButton" value="<{$smarty.const._MD_LECAT_LANG_DELEET_ALL_PERMIT}>"/>
	  <{xoops_input type=hidden name=cat_id value=$object->getShow('cat_id')}>
	  <{xoops_input type=hidden name=action value="PermitEdit"}>
		</p>
		</form>
	<{/if}>
	</div>
	<hr class="clear" />
	<div class="catTree">
		<h2><{$smarty.const._MD_LECAT_LANG_CAT}></h2>
	<a href="index.php?action=CatEdit&amp;gr_id=<{$object->getShow('gr_id')}>"><{$smarty.const._MD_LECAT_LANG_ADD_A_NEW_CAT}></a>
		<{lecat_tree tree=$childrenTree url="./index.php?action=CatView&amp;cat_id=" dirname=$dirname}>
	</div>
</div>